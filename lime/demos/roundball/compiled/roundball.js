var h=void 0,m=!0,n=null,p=!1,s,t=this;function aa(){}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return a!==h}function v(a){return"array"==ba(a)}function ca(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function y(a){return"number"==typeof a}function da(a){return"function"==ba(a)}function ea(a){var b=typeof a;return"object"==b&&a!=n||"function"==b}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;
function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return ka.apply(n,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function z(a,b){function c(){}c.prototype=b.prototype;a.ud=b.prototype;a.prototype=new c};var na={},oa,pa,qa;function ra(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function sa(a){if(!ta.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ua,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(va,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(wa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(xa,"&quot;"));return a}var ua=/&/g,va=/</g,wa=/>/g,xa=/\"/g,ta=/[&<>\"]/;function ya(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function za(a){var b=w(h)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var A=Array.prototype,Aa=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=c==n?0:0>c?Math.max(0,a.length+c):c;if(w(a))return!w(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ca=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=w(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Da=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Ea(a,b){0<=Aa(a,b)||a.push(b)}function Fa(a,b){var c=Aa(a,b);0<=c&&A.splice.call(a,c,1)}function Ga(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ha(a,b,c,d){return A.splice.apply(a,Ia(arguments,1))}function Ia(a,b,c){return 2>=arguments.length?A.slice.call(a,b):A.slice.call(a,b,c)}function Ja(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f=ea(e)?"o"+fa(e):(typeof e).charAt(0)+e;Object.prototype.hasOwnProperty.call(b,f)||(b[f]=m,a[c++]=e)}a.length=c};function B(a,b){this.x=u(a)?a:0;this.y=u(b)?b:0}s=B.prototype;s.d=function(){return new B(this.x,this.y)};s.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};s.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};s.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};s.translate=function(a,b){a instanceof B?(this.x+=a.x,this.y+=a.y):(this.x+=a,y(b)&&(this.y+=b));return this};
s.scale=function(a,b){var c=y(b)?b:a;this.x*=a;this.y*=c;return this};function Ka(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}s=Ka.prototype;s.d=function(){return new Ka(this.top,this.right,this.bottom,this.left)};s.contains=function(a){return!this||!a?p:a instanceof Ka?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
s.expand=function(a,b,c,d){ea(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};s.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};s.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
s.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};s.translate=function(a,b){a instanceof B?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,y(b)&&(this.top+=b,this.bottom+=b));return this};s.scale=function(a,b){var c=y(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function C(a,b){this.width=a;this.height=b}s=C.prototype;s.d=function(){return new C(this.width,this.height)};function La(a){return a.width*a.height}s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
s.scale=function(a,b){var c=y(b)?b:a;this.width*=a;this.height*=c;return this};Ka.prototype.size=function(){return new C(this.right-this.left,this.bottom-this.top)};function Ma(){}Ma.prototype.z=aa;function D(a){return a.Jc?a.Jc:a}function Na(a,b){Oa(b,a);b.Jc=D(a);return b};var E=new Ma;E.Fa=function(){};
E.Bd=function(){var a=this.La,b=this.Fb(),c=this.da||1,d=c/a,e;if(this.a){this.rb&&this.rb.contains(b)&&(e=La(this.rb.size())/La(b.size()))&&1.6>e&&0.5<e?b=this.rb:1!=this.ue&&0!=this.e.length&&(this instanceof F||b.expand(12,12,12,12));this.rb=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.Ib=1;var g=this.u.d();this.l[G]&&(g=this.l[G]);0!=e.width?g.scale(f.width*d/e.width):g.scale(1/a);a=H(this);this.Vb=
(a.left-b.left)*c;this.Wb=(a.top-b.top)*c;b=this.f().d();a=this.ca;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.h.d();this.l[I]&&(c=this.l[I]);c.x*=d;c.y*=d;c.x-=b.width+this.Vb;c.y-=b.height+this.Wb;Pa(this.a,100*((this.Vb+b.width)/e.width),100*((this.Wb+b.height)/e.height),m);!this.W[I]&&(!this.W[G]&&!this.W[Qa])&&(d=-(this.J%=360),u(this.l[Qa])&&(d=-this.l[Qa]),Ra(this.a,Sa(new Ta,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));this.Ib&&(d=this.a.getContext("2d"),c=this.da||1,d.clearRect(0,
0,e.width,e.height),d.save(),d.translate(this.Vb,this.Wb),d.scale(c,c),e=this.f(),g=this.ca,d.translate(e.width*g.x,e.height*g.y),this.n.Wc.call(this,d),d.restore(),this.Ib=0)}};E.update=function(){};
E.Wc=function(a){if(this.q&&(this.j!=this.ka&&(this.ka&&K.pd.call(this),this.j&&K.Ec.call(this)),!this.Aa&&!this.zb&&!(0==this.C||1==this.hc))){1!=this.C&&(a.globalAlpha*=this.C);if(this.j){K.Mc.call(this.j);var b=this.ka,c=this.u;a.save();a.save();a.translate(b.fd.x,b.fd.y);a.rotate(-b.gd);this.ib&&a.rotate((this.J%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.lc/c.x,0);a.lineTo(b.lc/c.x,b.kc/c.y);a.lineTo(0,b.kc/c.y);a.closePath();a.restore();a.clip()}b=new B(0,0);this.n.z.call(this,
a);for(var d=0,e;e=this.e[d];d++){var f=Ua(e,b).d(),g=e.J%=360,c=e.u;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);0!=g&&a.rotate(-g*Math.PI/180);this.n.Wc.call(e,a);a.restore()}1!=this.C&&(a.globalAlpha/=this.C);this.ka&&a.restore()}};function L(a,b){this.x=a;this.y=b}z(L,B);L.prototype.d=function(){return new L(this.x,this.y)};L.prototype.scale=B.prototype.scale;L.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};function Va(){0!=Wa&&(this.le=Error().stack,fa(this))}var Wa=0;function Xa(a,b){this.type=a;this.currentTarget=this.target=b}s=Xa.prototype;s.oa=p;s.defaultPrevented=p;s.Kb=m;s.stopPropagation=function(){this.oa=m};s.preventDefault=function(){this.defaultPrevented=m;this.Kb=p};var Ya=0;function Za(){}s=Za.prototype;s.key=0;s.Ba=p;s.tb=p;s.Ab=function(a,b,c,d,e,f){if(da(a))this.cd=m;else if(a&&a.handleEvent&&da(a.handleEvent))this.cd=p;else throw Error("Invalid listener argument");this.na=a;this.od=b;this.src=c;this.type=d;this.capture=!!e;this.dc=f;this.tb=p;this.key=++Ya;this.Ba=p};s.handleEvent=function(a){return this.cd?this.na.call(this.dc||this.src,a):this.na.handleEvent.call(this.na,a)};var $a,ab,bb,cb,db,eb;function fb(){return t.navigator?t.navigator.userAgent:n}db=cb=bb=ab=$a=p;var hb;if(hb=fb()){var ib=t.navigator;$a=0==hb.indexOf("Opera");ab=!$a&&-1!=hb.indexOf("MSIE");cb=(bb=!$a&&-1!=hb.indexOf("WebKit"))&&-1!=hb.indexOf("Mobile");db=!$a&&!bb&&"Gecko"==ib.product}var jb=$a,M=ab,N=db,O=bb,kb=cb,lb,mb=t.navigator;lb=mb&&mb.platform||"";eb=-1!=lb.indexOf("Mac");var nb=-1!=lb.indexOf("Win");function ob(){var a=t.document;return a?a.documentMode:h}var pb;
a:{var qb="",sb;if(jb&&t.opera)var tb=t.opera.version,qb="function"==typeof tb?tb():tb;else if(N?sb=/rv\:([^\);]+)(\)|;)/:M?sb=/MSIE\s+([^\);]+)(\)|;)/:O&&(sb=/WebKit\/(\S+)/),sb)var ub=sb.exec(fb()),qb=ub?ub[1]:"";if(M){var vb=ob();if(vb>parseFloat(qb)){pb=String(vb);break a}}pb=qb}var wb={};
function P(a){var b;if(!(b=wb[a])){b=0;for(var c=ra(String(pb)).split("."),d=ra(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),r=RegExp("(\\d*)(\\D*)","g");do{var q=l.exec(g)||["","",""],x=r.exec(k)||["","",""];if(0==q[0].length&&0==x[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==x[1].length?0:parseInt(x[1],10))?-1:(0==q[1].length?0:parseInt(q[1],10))>(0==x[1].length?0:parseInt(x[1],10))?1:0)||((0==q[2].length)<
(0==x[2].length)?-1:(0==q[2].length)>(0==x[2].length)?1:0)||(q[2]<x[2]?-1:q[2]>x[2]?1:0)}while(0==b)}b=wb[a]=0<=b}return b}var xb=t.document,yb=!xb||!M?h:ob()||("CSS1Compat"==xb.compatMode?parseInt(pb,10):5);function zb(a,b){for(var c in a)b.call(h,a[c],c,a)}var Ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ab.length;f++)c=Ab[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Bb=!M||M&&9<=yb,Cb=M&&!P("9");!O||P("528");N&&P("1.9b")||M&&P("8")||jb&&P("9.5")||O&&P("528");N&&!P("8")||M&&P("9");function Db(a){Db[" "](a);return a}Db[" "]=aa;function Eb(a,b){a&&this.Ab(a,b)}z(Eb,Xa);s=Eb.prototype;s.target=n;s.relatedTarget=n;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=p;s.altKey=p;s.shiftKey=p;s.metaKey=p;s.Vd=p;s.wa=n;
s.Ab=function(a,b){var c=this.type=a.type;Xa.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(N){var e;a:{try{Db(d.nodeName);e=m;break a}catch(f){}e=p}e||(d=n)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=O||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=O||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Vd=eb?a.metaKey:a.ctrlKey;this.state=a.state;this.wa=a;a.defaultPrevented&&this.preventDefault();delete this.oa};s.stopPropagation=function(){Eb.ud.stopPropagation.call(this);this.wa.stopPropagation?this.wa.stopPropagation():this.wa.cancelBubble=m};
s.preventDefault=function(){Eb.ud.preventDefault.call(this);var a=this.wa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Cb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Fb={},Q={},Gb={},Hb={};function R(a,b,c,d,e){if(v(b)){for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);return n}a=Ib(a,b,c,p,d,e);b=a.key;Fb[b]=a;return b}
function Ib(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=Q;b in g||(g[b]={Y:0,I:0});g=g[b];e in g||(g[e]={Y:0,I:0},g.Y++);var g=g[e],k=fa(a),l;g.I++;if(g[k]){l=g[k];for(var r=0;r<l.length;r++)if(g=l[r],g.na==c&&g.dc==f){if(g.Ba)break;d||(l[r].tb=p);return l[r]}}else l=g[k]=[],g.Y++;r=Jb();g=new Za;g.Ab(c,r,a,b,e,f);g.tb=d;r.src=a;r.na=g;l.push(g);Gb[k]||(Gb[k]=[]);Gb[k].push(g);a.addEventListener?(a==t||!a.Yb)&&a.addEventListener(b,r,e):a.attachEvent(b in Hb?Hb[b]:Hb[b]="on"+b,
r);return g}function Jb(){var a=Kb,b=Bb?function(c){return a.call(b.src,b.na,c)}:function(c){c=a.call(b.src,b.na,c);if(!c)return c};return b}function Lb(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Lb(a,b[f],c,d,e);else a=Ib(a,b,c,m,d,e),Fb[a.key]=a}
function Mb(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Mb(a,b[f],c,d,e);else{d=!!d;a:{f=Q;if(b in f&&(f=f[b],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=n}if(a)for(f=0;f<a.length;f++)if(a[f].na==c&&a[f].capture==d&&a[f].dc==e){Nb(a[f].key);break}}}
function Nb(a){var b=Fb[a];if(b&&!b.Ba){var c=b.src,d=b.type,e=b.od,f=b.capture;c.removeEventListener?(c==t||!c.Yb)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Hb?Hb[d]:Hb[d]="on"+d,e);c=fa(c);Gb[c]&&(e=Gb[c],Fa(e,b),0==e.length&&delete Gb[c]);b.Ba=m;if(b=Q[d][f][c])b.kd=m,Ob(d,f,c,b);delete Fb[a]}}
function Ob(a,b,c,d){if(!d.Db&&d.kd){for(var e=0,f=0;e<d.length;e++)d[e].Ba?d[e].od.src=n:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.kd=p;0==f&&(delete Q[a][b][c],Q[a][b].Y--,0==Q[a][b].Y&&(delete Q[a][b],Q[a].Y--),0==Q[a].Y&&delete Q[a])}}function Pb(a,b,c,d,e){var f=1;b=fa(b);if(a[b]){var g=--a.I,k=a[b];k.Db?k.Db++:k.Db=1;try{for(var l=k.length,r=0;r<l;r++){var q=k[r];q&&!q.Ba&&(f&=Qb(q,e)!==p)}}finally{a.I=Math.max(g,a.I),k.Db--,Ob(c,d,b,k)}}return Boolean(f)}
function Qb(a,b){a.tb&&Nb(a.key);return a.handleEvent(b)}
function Kb(a,b){if(a.Ba)return m;var c=a.type,d=Q;if(!(c in d))return m;var d=d[c],e,f;if(!Bb){var g;if(!(g=b))a:{g=["window","event"];for(var k=t;e=g.shift();)if(k[e]!=n)k=k[e];else{g=n;break a}g=k}e=g;g=m in d;k=p in d;if(g){if(0>e.keyCode||e.returnValue!=h)return m;a:{var l=p;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(r){l=m}if(l||e.returnValue==h)e.returnValue=m}}l=new Eb;l.Ab(e,this);e=m;try{if(g){for(var q=[],x=l.currentTarget;x;x=x.parentNode)q.push(x);f=d[m];f.I=f.Y;for(var J=q.length-
1;!l.oa&&0<=J&&f.I;J--)l.currentTarget=q[J],e&=Pb(f,q[J],c,m,l);if(k){f=d[p];f.I=f.Y;for(J=0;!l.oa&&J<q.length&&f.I;J++)l.currentTarget=q[J],e&=Pb(f,q[J],c,p,l)}}else e=Qb(a,l)}finally{q&&(q.length=0)}return e}c=new Eb(b,this);return e=Qb(a,c)};function Rb(){Va.call(this)}z(Rb,Va);s=Rb.prototype;s.Yb=m;s.nd=n;s.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Mb(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(w(a))a=new Xa(a,this);else if(a instanceof Xa)a.target=a.target||this;else{var d=a;a=new Xa(b,this);Oa(a,d)}var d=1,e,c=c[b],b=m in c,f;if(b){e=[];for(f=this;f;f=f.nd)e.push(f);f=c[m];f.I=f.Y;for(var g=e.length-1;!a.oa&&0<=g&&f.I;g--)a.currentTarget=e[g],d&=Pb(f,e[g],a.type,m,a)&&a.Kb!=p}if(p in c)if(f=c[p],f.I=f.Y,b)for(g=0;!a.oa&&g<e.length&&f.I;g++)a.currentTarget=e[g],d&=Pb(f,e[g],a.type,p,a)&&a.Kb!=p;else for(e=this;!a.oa&&e&&f.I;e=
e.nd)a.currentTarget=e,d&=Pb(f,e,a.type,p,a)&&a.Kb!=p;a=Boolean(d)}else a=m;return a};var Sb,Tb,Ub,Vb,Wb=fb();Tb=(Sb=O&&kb&&/(ipod|iphone|ipad)/i.test(Wb))&&da(Object.freeze);Ub=O&&/playbook/i.test(Wb);Vb=u(document.ontouchmove);var Xb;function Yb(a,b){var c;c=a.className;c=w(c)&&c.match(/\S+/g)||[];for(var d=Ia(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=Aa(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};var Zb=!M||M&&9<=yb;!N&&!M||M&&M&&9<=yb||N&&P("1.9.1");M&&P("9");function $b(a){return a?new ac(bc(a)):Xb||(Xb=new ac)}function cc(a,b){zb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in dc?a.setAttribute(dc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ec(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new C(a.clientWidth,a.clientHeight)}function fc(a,b,c){return gc(document,arguments)}
function gc(a,b){var c=b[0],d=b[1];if(!Zb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',sa(d.name),'"');if(d.type){c.push(' type="',sa(d.type),'"');var e={};Oa(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:v(d)?Yb.apply(n,[c].concat(d)):cc(c,d));2<b.length&&hc(a,c,b);return c}
function hc(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];ca(f)&&!(ea(f)&&0<f.nodeType)?Ba(ic(f)?Ga(f):f,d):d(f)}}function jc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function kc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function lc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function mc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function bc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function nc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(bc(a).createTextNode(String(b)))}}function ic(a){if(a&&"number"==typeof a.length){if(ea(a))return"function"==typeof a.item||"string"==typeof a.item;if(da(a))return"function"==typeof a.item}return p}function ac(a){this.va=a||t.document||document}
function oc(a,b){var c;c=a.va;var d=b&&"*"!=b?b.toUpperCase():"";c=c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*");return c}s=ac.prototype;s.Sc=function(a,b,c){return gc(this.va,arguments)};s.createElement=function(a){return this.va.createElement(a)};s.createTextNode=function(a){return this.va.createTextNode(String(a))};s.appendChild=function(a,b){a.appendChild(b)};s.contains=mc;function pc(a,b,c){var d;a:if(d=ya(c),a.style[d]===h&&(c=(O?"Webkit":N?"Moz":M?"ms":jb?"O":n)+za(c),a.style[c]!==h)){d=c;break a}d&&(a.style[d]=b)}function qc(a,b){var c;a:{c=bc(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,n))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:n)||a.style&&a.style[b]}
function rc(a){var b=a.getBoundingClientRect();M&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function sc(a){if(M&&!(M&&8<=yb))return a.offsetParent;var b=bc(a),c=qc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=qc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return n}
function tc(a,b,c){if(b instanceof C)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=uc(b);a.style.height=uc(c)}function uc(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function vc(a){if("none"!=qc(a,"display"))return wc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=wc(a);b.display=c;b.position=e;b.visibility=d;return a}
function wc(a){var b=a.offsetWidth,c=a.offsetHeight,d=O&&!b&&!c;return(!u(b)||d)&&a.getBoundingClientRect?(a=rc(a),new C(a.right-a.left,a.bottom-a.top)):new C(b,c)}function xc(a){var b=$b(h),c=n;if(M)b=c=b.va.createStyleSheet(),M?b.cssText=a:b.innerHTML=a;else{var d=oc(b,"head")[0];d||(c=oc(b,"body")[0],d=b.Sc("head"),c.parentNode.insertBefore(d,c));var e=c=b.Sc("style");M?e.cssText=a:e.innerHTML=a;b.appendChild(d,c)}return c};var yc,zc,Ac,Bc,Cc,Dc,Ec;(function(){var a=O?"Webkit":N?"Moz":jb?"O":M?"ms":"",b=fc("div").style;yc="-"+a.toLowerCase()+"-transform";zc=function(a){return b[a]!==h?a:p};Ac=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return zc(b)?b:zc(d)?d:zc(e)?e:h}})();var Fc=function(){var a=Ac("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=u(d)?d:c;c=(v(c)?c.join(e+" "):c)+e+"/"+((v(d)?d.join(e+" "):d)+e);c!=b.zd&&(b.style[a]=b.zd=c)}}();
function Ta(a){this.Rb=[];this.precision=1;this.xb=m;this.qe&&Sa(this,a)}function Gc(a,b){a.xb=b;return a}Ta.prototype.scale=function(a,b){this.Rb.push("scale("+a+","+b+")");return this};Ta.prototype.rotate=function(a,b){var c;c=this.xb&&(Sb||Ub)?"rotate3d(0, 0, 1, "+a+(b?b:"deg")+")":"rotate("+a+(b?b:"deg")+")";0!=a&&this.Rb.push(c);return this};
Ta.prototype.translate=function(a,b,c){var d=1/this.precision,e="translate";if(this.xb&&(Sb||Ub))e+="3d";e+="("+a*d+"px,"+b*d+"px";if(this.xb&&(Sb||Ub))e+=","+(c?c:0)*d+"px";this.Rb.push(e+")");return this};function Sa(a,b){if(1!=a.precision){var c=1/a.precision;a.scale(c,c);a.precision=1}1!=b&&(a.scale(b,b),a.precision=b);return a}Ta.prototype.toString=function(){1!=this.precision&&Sa(this,1);return this.Rb.join(" ")};
var Ra=function(){var a=Ac("Transform");return function(b,c){var d=c.toString();d!=b.fe&&(b.style[a]=b.fe=d);oa=1}}(),Pa=function(){var a=Ac("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;c!=b.ge&&(b.style[a]=b.ge=c)}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=Ca(e,function(a){return-1==a.indexOf(b)});return e.join(",")}var b=Ac("Transition");Bc=!!b&&!jb;Cc=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};Dc=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};Ec=function(a,b,e){if(a.he!=b||a.Jd!=e)a.he=b,a.Jd=e,tc(a,b,e)}})();var K=new Ma;K.Fa=function(){for(var a=0,b,c=0;b=this.e[c];c++)b=b instanceof S?b.D:b,b==this.a.childNodes[a]?a++:(mc(this.U,b)&&lc(b),K.xd(this.U,b,a++))};
K.Cd=function(){var a=this.f(),b=this.La,c=this.h,d=this.da||1,e=this.Gc;this.l[I]&&(c=this.l[I]);var f=Math.round(a.width*d),g=Math.round(a.height*d),k=this.u.d();this.l[G]&&(k=this.l[G].d());0!=f?k.scale(a.width/(f*b/d)):k.scale(1/b);Ec(this.a,f,g);Pa(this.a,100*this.ca.x,100*this.ca.y,m);f=this.ca.x*a.width*d;g=this.ca.y*a.height*d;a=c.x*d/b-f;b=c.y*d/b-g;c=this.Q?this.Q.Sb:0;(0!=f-c||0!=g-c)&&(this.a==this.U&&this.e.length)&&K.Rd.call(this);this.a!=this.U&&!this.W[I]&&(!this.W[G]&&!this.W[Qa])&&
Ra(this.U,Gc(new Ta,e).translate(f-c,g-c));this.j!=this.ka&&(this.ka&&K.pd.call(this),this.j&&K.Ec.call(this));e=Gc(Sa(new Ta,0.1),e);this.j&&(K.Mc.call(this.j),Sa(Sa(e,0.1).translate(-this.j.Pd-f,-this.j.Qd-g).rotate(this.j.gd,"rad").translate(f,g),1));f=-(this.J%=360);u(this.l[Qa])&&(f=-this.l[Qa]);e.translate(a,b).scale(k.x,k.y).rotate(f);!this.W[I]&&(!this.W[G]&&!this.W[Qa])&&Ra(this.a,e)};
K.update=function(){if(this.a){K.Cd.call(this);if(!this.W[Hc]){var a=this.C;u(this.l[Hc])&&(a=this.l[Hc]);if(this.p&Ic){var b=this.a.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")}}this.p&Jc&&(this.a.style.display=this.zb?"none":"block");this.Aa||this.n.z.call(this,this.a)}};
K.Mc=function(){if(u(this.zc)&&this.zc.q){var a=this.zc,b=H(this),c=new B(b.left,b.top),d=new B(b.right,b.top),e=new B(b.right,b.bottom),b=a.getParent(),c=!this.q?c:b.ja(this.gb(c)),d=!this.q?d:b.ja(this.gb(d)),e=!this.q?e:b.ja(this.gb(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,k=e.x-d.x,l=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.lc=Math.round(Math.sqrt(f*f+g*g));this.kc=Math.round(Math.sqrt(k*k+l*l));D(a.n)==K&&(f=a.D,tc(f,this.lc,this.kc),Ra(f,Gc(Sa(new Ta,0.1),this.Gc).translate(c.x,
c.y).rotate(-b,"rad")));D(this.n)==K&&(this.a.style.display="none");this.fd=Kc(a,c.d());this.Od=m;this.Pd=d*c.x-e*c.y;this.Qd=d*c.y+e*c.x;this.gd=b}};K.xd=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};K.Rd=function(){this.U=fc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.U.appendChild(a);this.a.appendChild(this.U)};
K.pd=function(){if(this.a!=this.D){if(D(this.n)==K){lc(this.a);var a=this.D,b=a.parentNode;b&&b.replaceChild(this.a,a);this.D=this.a}this.ka.hc=0;this.ka=n}};K.Ec=function(){if(D(this.n)==K){this.D=fc("div");this.D.style.cssText="position:absolute;overflow:hidden;";Pa(this.D,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.D,a);this.D.appendChild(this.a)}this.j.hc=1;this.j.zc=this;this.ka=this.j;T(this.j,Lc)};M&&P(8);(function(){var a=[[],[]],b=[[],[]];pa=function(c,d,e){Ea((e?b:a)[d||0],c)};qa=function(){for(var c,d=0;2>d;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.p=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var Lc=1,Ic=16,Jc=32,I=1,G=2,Qa=4,Hc=5;xc(".lime-director {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.lime-director div, .lime-director img, .lime-director canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.lime-scene {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.lime-fps {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.lime-layer {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.lime-cover {position: absolute; left: 0px; top: 0px;}.lime-button {cursor: pointer;}");function S(){Va.call(this);this.e=[];this.g=n;this.qa={};this.l={};this.W={};this.Ac={};this.Gc=m;this.q=p;this.vc=this.Zb=n;this.F={};this.Oa(1);this.b(0,0);this.c(0,0);this.La=1;this.P(0.5,0.5);this.J=0;this.l[Qa]||T(this,Lc);this.Ic=0;T(this,7);this.C=1;Mc(this,n);Nc(this,D(this.Ca[0]));T(this,64)}z(S,Rb);s=S.prototype;s.Ca=[K,E];
function Nc(a,b){if(!a.n||D(a.n)!=b){for(var c=-1,d=0;d<a.Ca.length;d++)if(D(a.Ca[d])==b){c=d;break}if(-1==c)return a;a.n=a.Ca[d];T(a,64);for(d=0;c=a.e[d];d++)Nc(c,b)}return a}s.ib=function(){return!(this.g&&D(this.g.n)==E)};function Oc(a){return a.ib()?(a.ib()?Pc(a):Qc(a),a):a.g?Oc(a.g):n}function Rc(a){if(!a.g||a instanceof F)return[];var b=a.g.e.indexOf(a);a=Rc(a.g);a.push(b);return a}
function Sc(a,b){if(a==b)return 0;for(var c=Rc(a),d=Rc(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}s.Yb=p;function T(a,b,c,d){b&&!a.p&&pa(a,c,d);a.p|=b;if(64==b)for(c=0;d=a.e[c];c++)d instanceof S&&T(d,64);if(!u(a.p)||!b)a.p=0;b&&a.Aa&&(a.Od=p,T(a.Aa,-1));return a}s.Oa=function(a,b){this.u=1==arguments.length&&y(a)?new L(a,a):2==arguments.length?new L(arguments[0],arguments[1]):a;return this.l[G]?this:T(this,2)};
s.b=function(a,b){this.h=2==arguments.length?new B(arguments[0],arguments[1]):a;return this.l[I]?this:T(this,Lc)};function Mc(a,b){if(b!=a.j){if(a.j){var c=a.j;delete c.ub;Tc(c,c.getParent());delete a.j.Aa}a.j=b;a.j&&(c=a.j,c.ub=m,c.q&&Uc(c,c.getParent()),a.j.Aa=a);T(a,4)}}s.P=function(a,b){this.ca=2==arguments.length?new L(arguments[0],arguments[1]):a;return T(this,Lc)};function Vc(a,b){a.zb=b;T(a,Jc);a.Hc=0}s.f=function(){return this.s};
s.c=function(a,b){var c=this.s,d,e;d=2==arguments.length?new C(arguments[0],arguments[1]):a;var f=this.ca;if(c&&this.e.length)for(var g=0;g<this.e.length;g++){var k=this.e[g];if(k.Hd){var l=k.Ic;if(0!=l){var r=Wc(k);e=c.width;var q=r.left+f.x*c.width,x=r.right-r.left,J=e-r.right-f.x*c.width;l&1&&(e-=q);l&2&&(e-=x);l&4&&(e-=J);e!=c.width&&(e=(d.width-e)/(c.width-e),l&1&&(q*=e),l&2&&(x*=e));e=c.height;var J=r.top+f.y*c.height,gb=r.bottom-r.top,r=e-r.bottom-f.y*c.height;l&8&&(e-=J);l&16&&(e-=gb);l&32&&
(e-=r);e!=c.height&&(e=(d.height-e)/(c.height-e),l&8&&(J*=e),l&16&&(gb*=e));l=k.ca;k.c(x,gb);k.b(q+l.x*x-f.x*d.width,J+l.y*gb-f.y*d.height)}}}this.s=d;return T(this,2)};function Xc(a){a.da||Yc(a);return a.da}function Yc(a){var b=u(a.da)?a.da:a.La;a.g&&a.g.da&&(b=a.La*a.g.da);if(b!=a.da){a.da=b;for(var b=0,c;c=a.e[b];b++)c instanceof S&&Yc(c);T(a,2)}}s.Hd=function(){return this.Ic};s.ja=function(a){if(!this.q)return a;a=this.getParent().ja(a);return Kc(this,a)};
function Kc(a,b){if(!a.getParent())return n;b.x-=a.h.x;b.y-=a.h.y;b.x/=a.u.x;b.y/=a.u.y;if(0!=a.J){var c=b.d(),d=a.J*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}s.gb=function(a){return!this.q?a:this.getParent().gb(Ua(this,a))};function Ua(a,b){if(!a.getParent())return b;var c=b.d();if(0!=a.J){var d=-a.J*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.u.x;c.y*=a.u.y;c.x+=a.h.x;c.y+=a.h.y;return c}
function Zc(a,b){a.C=b;var c=a.zb;0==a.C&&!c?(Vc(a,m),a.Hc=1):0!=a.C&&(c&&a.Hc)&&Vc(a,p);if(u(a.l[Hc]))return a;T(a,Ic);return a}function Pc(a){function b(){this.a=this.D=this.U=fc(c);this.ab&&Yb(this.a,this.ab);this.p|=-1}var c=D(a.n)==E?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.D;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.D,d)}}else b.call(a)}function Qc(a){a.D&&(lc(a.D),delete a.a,delete a.D,delete a.U)}
s.Fa=function(){this.p&=-65;this.ib()?Pc(this):Qc(this);if(this.g&&this.g.p&64)this.g.Fa();else if(this.ib()){for(var a=0,b;b=this.e[a];a++)b instanceof S&&b.Fa();this.n.Fa.call(this)}};
s.update=function(a){var b,c;a=a||0;fa(this);this.p&64&&this.Fa();var d=D(this.n)==K||a;if(d){for(var e in this.Ac)delete this.l[e],delete this.W[e],b=parseInt(e,10)==Hc?"opacity":yc,Dc(this.a,b),this.a!=this.U&&Dc(this.ke,b);b=0;for(e in this.qa)c=this.qa[e],c[3]||(c[3]=1,e==I&&this.Wd!=this.h&&(T(this,Lc,0,m),b=1),e==G&&this.Zd!=this.u&&(T(this,2,0,m),b=1),e==Hc&&this.Td!=this.C&&(T(this,Ic,0,m),b=1),e==Qa&&this.Yd!=this.J&&(T(this,128,0,m),b=1));if(!b)for(e in this.qa){c=this.qa[e];b=parseInt(e,
10)==Hc?"opacity":yc;if(D(this.n)==K||"opacity"!=b)this.l[e]=c[0],Cc(this.a,b,c[1],c[2]),this.a!=this.U&&b==yc&&Cc(this.U,b,c[1],c[2]);delete this.qa[e]}this.Wd=this.h;this.Zd=this.u;this.Td=this.C;this.Yd=this.J;this.Ac={}}a?this.n.Bd.call(this):(D(this.n)==E&&(c=Oc(this),c.Ib=1,c==this&&(this.p==Lc&&!this.j)&&(c.Ib=0),pa(Oc(this),1)),this.n.update.call(this));if(d)for(e in this.l)this.l[e]&&(this.W[e]=m);if(this.ta)for(e=0;e<this.ta.length;e++)T(this.ta[e],7);T(this,0,a)};
s.getParent=function(){return this.g?this.g:n};s.appendChild=function(a,b){a instanceof S&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&lc(a);a.g=this;b==h?this.e.push(a):Ha(this.e,b,0,a);D(this.n)!=K&&Nc(a,D(this.n));a instanceof S&&(Yc(a),this.q&&$c(a));return T(this,64)};
s.removeChild=function(a){a=this.e.indexOf(a);if(0<=a&&this.e.length>a){var b=0<=a&&this.e.length>a?this.e[a]:n;b.Aa&&Mc(b.Aa,n);b instanceof S?(this.q&&ad(b),Qc(b),b.g=n):lc(b);this.e.splice(a,1);a=T(this,64)}else a=this;return a};s.addEventListener=function(a){Vb&&"mouse"==a.substring(0,5)||(u(this.F[a])||(this.F[a]=[0,0]),this.q&&0==this.F[a][0]&&(this.F[a][0]=1,this.N().Ia.Jb(this,a)),this.F[a][1]++)};
s.removeEventListener=function(a){Vb&&"mouse"==a.substring(0,5)||(this.q&&1==this.F[a][1]&&(this.F[a][0]=0,this.N().Ia.jb(this,a)),this.F[a][1]--,this.F[a][1]||delete this.F[a])};s.N=function(){return!this.q?n:this.Zb};s.yb=function(){return!this.q?n:this.vc};function ad(a){var b;a.ub||Tc(a,a.getParent());for(var c=0;b=a.e[c];c++)b instanceof S&&ad(b);for(var d in a.F){a.F[d][0]=0;if(!a.N())debugger;a.N().Ia.jb(a,d)}bd(a.N().Ia,a);a.q=p;a.Zb=n;a.vc=n}
function $c(a){a.q=m;a.Zb=a.g.N();a.vc=a.g.yb();for(var b=0,c;c=a.e[b];b++)c instanceof S&&$c(c);for(var d in a.F)a.F[d][0]=1,a.N().Ia.Jb(a,d);a.ub&&(a.ub=m,a.q&&Uc(a,a.getParent()));bd(a.N().Ia,a)}function Uc(a,b){b.ta||(b.ta=[]);Ea(b.ta,a);!b&&!(b.getParent()instanceof F)&&Uc(a,b.getParent())}function Tc(a,b){b&&b.ta&&(Fa(b.ta,a),Tc(a,b.getParent()))}function H(a){var b=a.f();a=a.ca;return new Ka(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function Wc(a,b){var c=b||H(a),d=new B(c.left,c.top),e=new B(c.right,c.top),f=new B(c.left,c.bottom),c=new B(c.right,c.bottom),d=Ua(a,d),e=Ua(a,e),f=Ua(a,f),c=Ua(a,c);return new Ka(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
s.Fb=function(){var a=H(this);a.left==a.right&&this.e.length&&(a=Wc(this.e[0],this.e[0].Fb()));for(var b=0,c;c=this.e[b];b++)if(1!=c.hc){var d=a;c=Wc(c,c.Fb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};s.la=function(a){this.Ac[a]=1};s.ya=function(a){var b=this.ja(a.Ma);return H(this).contains(b)?(a.position=b,m):p};function cd(a,b){Ea(b.Ea,a);b.play()};function dd(){S.call(this);this.ab="lime-layer"}z(dd,S);dd.prototype.ya=function(a){for(var b=0,c;c=this.e[b];b++)if(c.ya(a))return a.position=this.ja(a.Ma),m;return p};var U=new function(){this.ba=[];this.Ga=p;this.bd=0;this.ac=1E3/30;this.za=0};function ed(a,b){this.w=this.jd=a;this.ic=u(b)?b:-1;this.ma=[]}ed.prototype.Qa=function(a){if(this.ma.length)if(this.w>a)this.w-=a;else{var b=this.jd+a-this.w;this.w=this.jd-(a-this.w);0>this.w&&(this.w=0);var c;for(a=this.ma.length;0<=--a;)(c=this.ma[a])&&(c[0]&&da(c[1]))&&c[1].call(c[2],b);-1!=this.ic&&(this.ic--,0==this.ic&&U.pb(c[1],c[2]))}};U.ba.push(new ed(0));
for(var fd=["webkit","moz"],gd=0;gd<fd.length&&!t.requestAnimationFrame;++gd)t.requestAnimationFrame=window[fd[gd]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[fd[gd]+"CancelAnimationFrame"]||t[fd[gd]+"CancelRequestAnimationFrame"];U.Cc=!!t.requestAnimationFrame;U.ne=function(){return this.ac};U.te=function(a){this.ac=a;this.Ga&&(U.Uc(),U.Dc())};U.wc=function(a,b,c){c=u(c)?c:this.ba[0];Ea(c.ma,[1,a,b]);Ea(this.ba,c);this.Ga||U.Dc()};
U.pb=function(a,b){for(var c=this.ba.length;0<=--c;){for(var d=this.ba[c],e=d.ma,f,g=e.length;0<=--g;)f=e[g],f[1]==a&&f[2]==b&&Fa(e,f);0==e.length&&0!=c&&Fa(this.ba,d)}1==this.ba.length&&0==this.ba[0].ma.length&&U.Uc()};
U.Dc=function(){this.Ga||(this.za=ma(),U.Cc&&t.requestAnimationFrame?t.mozRequestAnimationFrame&&11>pb?(t.mozRequestAnimationFrame(),this.Kc=ka(U.yd,this),t.addEventListener("MozBeforePaint",this.Kc,p)):(this.Ub=ka(U.wd,this),t.requestAnimationFrame(this.Ub)):this.bd=setInterval(ka(U.de,this),U.ac),this.Ga=m)};
U.Uc=function(){this.Ga&&(U.Cc&&t.requestAnimationFrame?t.mozRequestAnimationFrame&&11>pb?t.removeEventListener("MozBeforePaint",this.Kc,p):t.cancelAnimationFrame(this.Ub):clearInterval(this.bd),this.Ga=p)};U.wd=function(a){var b=t.performance,c;b&&(c=b.now||b.webkitNow)?a=b.timing.navigationStart+c.call(b):a||(a=ma());b=a-this.za;0>b&&(b=1);U.$b(b);this.za=a;t.requestAnimationFrame(this.Ub)};U.yd=function(a){U.$b(a.timeStamp-this.za);this.za=a.timeStamp;t.mozRequestAnimationFrame()};
U.de=function(){var a=ma(),b=a-this.za;0>b&&(b=1);U.$b(b);this.za=a};U.$b=function(a){for(var b=this.ba.slice(),c=b.length;0<=--c;)b[c].Qa(a);1==oa&&(/Firefox\/18./.test(fb())&&!na.je)&&(U.ld?(document.body.style.MozTransform="",U.ld=0):(document.body.style.MozTransform="scale(1,1)",U.ld=1),oa=0)};U.Ad=function(a){for(var b,c,d,e,f=this.ba.length;0<=--f;){b=this.ba[f];for(e=b.ma.length;0<=--e;)d=b.ma[e],c=d[2],da(c.N)&&(c=c.N(),c==a&&(d[0]=m))}};U.Nc=function(a,b,c){U.xc(a,b,c,1)};
U.xc=function(a,b,c,d){U.wc(a,b,new ed(c,d))};var hd;function V(){Va.call(this);this.Ea=[];this.gc=[];this.Pb={};this.oe=p;this.m=1;this.wb=id;this.K=0}z(V,Rb);s=V.prototype;s.scope="";s.A=function(a){this.m=a;return this};s.play=function(){this.rc=0;this.Xc=this.K=1;U.wc(this.Qa,this);this.dispatchEvent({type:"start"})};s.stop=function(){if(0!=this.K){var a=this.gc;if(jd(this)&&this.la)for(var b=a.length;0<=--b;)this.la(a[b]);this.gc=[];this.Pb={};this.K=0;U.pb(this.Qa,this);this.dispatchEvent({type:"stop"})}};s.hb=function(){return{}};
function kd(a,b){var c=fa(b);u(a.Pb[c])||(a.eb(b),a.Pb[c]=a.hb(b));return a.Pb[c]}s.eb=function(a){ld.Jb(this,a);this.K=1;Ea(this.gc,a);this.Ob&&(!this.qd&&this.Xa)&&this.Xa()};s.N=function(){return this.Ea[0]?this.Ea[0].N():n};s.Qa=function(a){this.Ob&&(!this.qd&&this.Xa)&&this.Xa();this.Xc&&(delete this.Xc,a=1);this.rc+=a;this.me=a;a=this.rc/(1E3*this.m);if(isNaN(a)||1<=a)a=1;a=this.ra(a,this.Ea);1==a&&this.stop()};
s.ra=function(a,b){a=this.wb[0](a);isNaN(a)&&(a=1);for(var c=b.length;0<=--c;)this.update(a,b[c]);return a};function jd(a){return 0<a.m&&Bc&&a.Ud&&Sb}function md(a){a.Ud=u(h)?h:m;return a}var ld=new function(){this.i={}};ld.Jb=function(a,b){if(a.scope.length){var c=fa(b);u(this.i[c])||(this.i[c]={});u(this.i[c][a.scope])&&this.i[c][a.scope].stop();this.i[c][a.scope]=a}};ld.ve=function(a){a=fa(a);if(u(this.i[a]))for(var b in this.i[a])this.i[a][b].stop(),delete this.i[a][b]};
(function(){function a(a){var e,f,g,x;g=a;for(f=0;8>f;f++){x=((b*g+c)*g+d)*g-a;if(5E-5>(0<=x?x:0-x))return g;e=(3*b*g+2*c)*g+d;if(1E-6>(0<=e?e:0-e))break;g-=x/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){x=((b*g+c)*g+d)*g;if(5E-5>(0<=x-a?x-a:0-(x-a)))break;a>x?e=g:f=g;g=0.5*(f-e)+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;hd=function(k,l,r,q){return[function(x){d=3*k;c=3*(r-k)-d;b=1-d-c;g=3*l;f=3*(q-l)-g;e=1-g-f;return((e*a(x)+f)*a(x)+g)*a(x)},k,l,r,q]}})();var id=hd(0.42,0,0.58,1);var nd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function od(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(pd.test(c))return b.ec=qd(c),b.type="hex",b;a:{var d=a.match(rd);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||0>e||255<e||isNaN(a)||0>a||255<a||isNaN(c)||0>c||255<c)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=sd(e.toString(16));a=sd(a.toString(16));
c=sd(c.toString(16));b.ec="#"+e+a+c;b.type="rgb";return b}if(nd&&(c=nd[a.toLowerCase()]))return b.ec=c,b.type="named",b;throw Error(a+" is not a valid color string");}var td=/#(.)(.)(.)/;function qd(a){if(!pd.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(td,"#$1$1$2$2$3$3"));return a.toLowerCase()}function ud(a,b,c){0>c?c+=1:1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var pd=/^#(?:[0-9a-f]{3}){1,2}$/i,rd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function sd(a){return 1==a.length?"0"+a:a};function vd(){Va.call(this)}z(vd,Rb);vd.prototype.fc=aa;function wd(a){if(a[0]instanceof vd)return a[0];v(a)||(a=Ga(arguments));return 2<a.length?new xd(a):w(a[0])&&("rgb("==a[0].substring(0,4)||"rgba("==a[0].substring(0,5)||"#"==a[0].substring(0,1))?new xd(a[0]):new yd(a[0])}vd.prototype.mb=aa;vd.prototype.lb=aa;function xd(a){Va.call(this);this.sa=1;this.Na(a)}z(xd,vd);s=xd.prototype;s.id="color";function zd(a,b){return Ad(a,2,b)}
function Ad(a,b,c){c=c||0.1;var d,e=n;if(y(a.t)&&y(a.Ja)&&y(a.Ha))e=[a.t,a.Ja,a.Ha,a.sa];else if(w(a.ea)){var f=od(a.ea);"named"!=f.type&&(e=f.ec,e=qd(e),e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]);e.push(1)}d=e;if(!d)return a;d.pop();e=d[0]/255;f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),k=Math.min(e,f,d),l=0,r=0,q=0.5*(g+k);g!=k&&(g==e?l=60*(f-d)/(g-k):g==f?l=60*(d-e)/(g-k)+120:g==d&&(l=60*(e-f)/(g-k)+240),r=0<q&&0.5>=q?(g-k)/(2*q):(g-k)/(2-2*q));d=[Math.round(l+
360)%360,r,q];d[b]+=c;1<d[b]&&(d[b]=1);b=d[1];c=d[2];g=f=e=0;d=d[0]/360;0==b?e=f=g=255*c:(k=g=0,k=0.5>c?c*(1+b):c+b-b*c,g=2*c-k,e=255*ud(g,k,d+1/3),f=255*ud(g,k,d),g=255*ud(g,k,d-1/3));d=[Math.round(e),Math.round(f),Math.round(g)];d.push(a.sa);return a.Na(d)}
s.Na=function(a){var b=a;if(w(a))return this.ea=a,this;2<arguments.length&&(b=arguments);3<=b.length&&(this.t=b[0],this.Ja=b[1],this.Ha=b[2]);4==b.length&&(this.sa=b[3]);this.ea=1==this.sa?"rgb("+this.t+","+this.Ja+","+this.Ha+")":"rgba("+this.t+","+this.Ja+","+this.Ha+","+this.sa+")";return this};s.mb=function(a){a.style.background=this.ea};s.lb=function(a){a.fillStyle=this.ea};s.d=function(){var a=new xd("");a.t=this.t;a.Ja=this.Ja;a.Ha=this.Ha;a.sa=this.sa;a.ea=this.ea;return a};function yd(a){Va.call(this);a&&da(a.data)&&(a=a.data());w(a)?(this.X=a,50<this.X.length&&(this.X=this.X.substr(-50)),Bd[this.X]?this.G=Bd[this.X]:(this.G=new Image,this.G.src=a)):(this.X=a.src,50<this.X.length&&(this.X=this.X.substr(-50)),this.G=Bd[this.X]?Bd[this.X]:a);Cd(this)||R(this.G,"load",this.Kd,p,this);Bd[this.X]=this.G}z(yd,vd);var Bd={};s=yd.prototype;s.id="image";
s.fc=function(a){var b=a.f(),c=this;!b.width&&!b.height&&(Cd(this)?a.c(this.G.width,this.G.height):R(this,"load",function(){var a=this.f();!a.width&&!a.height&&this.c(c.G.width,c.G.height)},p,a));Cd(this)||R(this,"load",function(){T(a,4)},p,this)};s.Kd=function(a){this.dispatchEvent(a)};function Cd(a){return!(!a.G||!a.G.width||!a.G.height)}s.c=function(a,b,c){y(a)&&(a=new C(a,b),b=c||p);this.s=a;this.ae=b;return this};
function Dd(a,b){var c=b.f().d();a.s&&(a.ae?(c.width*=a.s.width,c.height*=a.s.height):c=a.s);var d=new B(0,0);a.pc&&(a.pe?(d.x=c.width*a.pc.x,d.y=c.height*a.pc.y):d=a.pc);return[c,d]}s.mb=function(a,b){a.style.background="url("+this.G.src+")";var c=Dd(this,b),d=c[0],c=c[1],e=Xc(b);a.style[Ac("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.Q?b.Q.Sb:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.tc&&(a.style.imageRendering="optimizeQuality")};
s.lb=function(a,b){var c=b.f(),d=H(b);if(c.width&&c.height)try{var e=this.G,f=Dd(this,b),g=f[0],k=f[1],l=a.createPattern(e,"repeat"),r=g.width/e.width,q=g.height/e.height;a.save();a.translate(d.left+k.x,d.top+k.y);a.scale(r,q);a.fillStyle=l;a.fillRect(-k.x/r,-k.y/q,c.width/r,c.height/q);a.restore()}catch(x){}};E.B={};K.B={};function W(){S.call(this);this.Q=this.bb=n}z(W,S);W.prototype.id="sprite";W.prototype.Ca=[Na(K,K.B),Na(E,E.B)];W.prototype.o=function(a,b,c,d){this.bb=wd(Ga(arguments));this.bb.fc(this);T(this,4);return this};K.B.z=function(a){this.bb===n||this.bb.mb(a,this);this.Q===n?w("border-width")?pc(a,0,"border-width"):zb("border-width",la(pc,a)):this.Q.mb(a,this)};
E.B.z=function(a){var b=this.f(),c=this.bb,d=this.Q;if(c||d){var e=H(this);c&&(c.lb(a,this),"image"!=c.id&&"frame"!=c.id&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.lb(a,this),"sprite"==this.id||"label"==this.id))c=d.Sb/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};function Ed(){V.call(this)}z(Ed,V);Ed.prototype.update=aa;function Fd(a){V.call(this);var b=Ga(arguments);v(a)&&(b=a);this.i=2<b.length?[b.shift(),new Fd(b)]:b;this.A(this.i[0].m+this.i[1].m)}z(Fd,V);Fd.prototype.eb=function(a){V.prototype.eb.call(this,a);this.A(this.i[0].m+this.i[1].m);this.Pa=this.i[0].m/this.m;this.ia=-1};Fd.prototype.stop=function(){this.ia&&-1!=this.ia&&this.i[this.ia].stop(this.Ea);V.prototype.stop.apply(this,arguments)};
Fd.prototype.ra=function(a,b){if(0==this.K)return a;for(var c=b.length;0<=--c;)kd(this,b[c]);var d=c=0;a>=this.Pa?(c=1,d=1==this.Pa?1:(a-this.Pa)/(1-this.Pa)):(c=0,d=0!=this.Pa?a/this.Pa:1);-1==this.ia&&1==c&&(this.i[0].K=1,this.i[0].ra(1,b),this.i[0].stop());this.ia!=c&&(-1!=this.ia&&(this.i[this.ia].ra(1,b),this.i[this.ia].stop()),this.i[c].K=1);this.i[c].ra(d,b);this.ia=c;return a};function Gd(a){V.call(this);var b=Ga(arguments);v(a)&&(b=a);2<b.length?(this.Ka=b.shift(),this.Sa=new Gd(b)):(this.Ka=b[0],this.Sa=b[1]);var b=this.Ka.m,c=this.Sa.m;this.A(Math.max(b,c));var d=new Ed;b>c?this.Sa=new Fd(this.Sa,d.A(b-c)):b<c&&(this.Ka=new Fd(this.Ka,d.A(c-b)))}z(Gd,V);Gd.prototype.eb=function(a){V.prototype.eb.call(this,a);this.Ka.K=1;this.Sa.K=1};Gd.prototype.ra=function(a,b){if(0!=this.K){for(var c=b.length;0<=--c;)kd(this,b[c]);this.Ka.ra(a,b);this.Sa.ra(a,b);return a}};E.Tb={};K.Tb={};K.Tb.z=function(a){var b=this.f();K.B.z.call(this,a);Fc(a,0.5*b.width,0.5*b.height)};E.Tb.z=function(a){this.f();var b=this.ca,c=H(this),d=0.5*(c.right-c.left),c=0.5*(c.bottom-c.top);a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,p);a.closePath();a.restore();a.clip();E.B.z.call(this,a);this.Q&&(a.lineWidth*=2,a.stroke());a.restore()};var Hd,Id;function Jd(){W.call(this);this.Xb=new W;this.appendChild(this.Xb);this.Lb=p;this.index=-1;this.tc=m}z(Jd,W);var Kd="#F00 #F90 #0C0 #0CC #00C #96F".split(" ");Jd.prototype.select=function(){if(!this.Lb){var a=this.f().d();this.ad=(new W).c(a).o("assets/selection.png");this.appendChild(this.ad,0);this.Lb=m}};function Ld(a){a.Lb&&(a.removeChild(a.ad),a.Lb=p)}Jd.prototype.update=function(){var a=this.f();this.Xb.c(0.75*a.width,0.75*a.height);S.prototype.update.call(this)};function Md(a){V.call(this);this.C=a}z(Md,V);Md.prototype.scope="fade";Md.prototype.hb=function(a){var b=a.C;jd(this)&&(a.qa[Hc]=[this.C,this.m,this.wb,0],T(a,Ic));return{ce:b,w:this.C-b}};Md.prototype.update=function(a,b){if(0!=this.K){var c=kd(this,b);Zc(b,c.ce+c.w*a)}};Md.prototype.la=function(a){jd(this)&&(a.la(Hc),T(a,Ic))};function Nd(a,b){V.call(this);this.u=1==arguments.length&&y(a)?new L(a,a):2==arguments.length?new L(arguments[0],arguments[1]):a}z(Nd,V);Nd.prototype.scope="scale";Nd.prototype.hb=function(a){var b=a.u,c=new L(this.u.x-b.x,this.u.y-b.y);jd(this)&&(a.qa[G]=[new L(b.x+c.x,b.y+c.y),this.m,this.wb,0],T(a,2));return{rd:b,w:c}};Nd.prototype.update=function(a,b){if(0!=this.K){var c=kd(this,b);b.Oa(c.rd.x+c.w.x*a,c.rd.y+c.w.y*a)}};Nd.prototype.la=function(a){jd(this)&&(a.la(G),T(a,2))};function Od(a,b){V.call(this);this.Za=2==arguments.length?new B(arguments[0],arguments[1]):a}z(Od,V);s=Od.prototype;s.scope="move";function Pd(a){a.Ob=0.3;a.Xa();return a}s.hb=function(a){jd(this)&&(a.qa[I]=[new B(a.h.x+this.Za.x,a.h.y+this.Za.y),this.m,this.wb,0],T(a,Lc));return{td:a.h}};s.Xa=function(){if(this.Ob){var a=this.Za,b=new B(0,0),c=a.x-b.x,a=a.y-b.y;this.A(this.Ob*Math.sqrt(c*c+a*a)/100);this.qd=1}};
s.update=function(a,b){if(0!=this.K){var c=kd(this,b);b.b(c.td.x+this.Za.x*a,c.td.y+this.Za.y*a)}};s.la=function(a){jd(this)&&(a.la(I),T(a,Lc))};function Qd(){this.kb={};this.Sd=0}function Rd(a,b,c){var d=c.x+"_"+c.y;u(a.kb[d])||(a.kb[d]=[]);a.kb[d].push([b,c]);a.Sd++}
Qd.prototype.play=function(a){var b,c,d=0,e;for(e in this.kb){var f=this.kb[e];b=md(Pd(new Od(f[0][1])));d<b.m&&(c=b,d=b.m);if(!a&&15<f.length){for(var g=Nc(new dd,E),k=f[0][0].getParent().getParent(),l=0;l<f.length;l++){var r=f[l][0];r.getParent().removeChild(r);g.appendChild(f[l][0])}k.appendChild(g);R(b,"stop",function(){this.getParent().removeChild(this);for(var a=this.h,b=this.e.length-1;0<=b;){var c=this.e[b];this.removeChild(c);Nc(c,K);k.Cb[c.L].appendChild(c);c.b(new B(a.x+c.h.x,a.y+c.h.y));
b--}},p,g);cd(g,b)}else{for(l=0;l<f.length;l++)Ea(b.Ea,f[l][0]);b.play()}}return c};function Sd(a,b,c){W.call(this);this.cc=c;this.Wa=690;this.rows=a;this.cols=b;this.M=Array(b);this.c(this.Wa,this.Wa).P(0,0);this.hd=(new W).c(this.Wa,this.Wa).o(100,0,0,0.1).P(0,0);this.appendChild(this.hd);Mc(this,this.hd);this.S=Math.round(this.Wa/b);this.Cb=[];for(a=0;a<b;a++)this.Cb[a]=new dd,this.appendChild(this.Cb[a]);Td(this);U.Nc(this.nc,this,700);R(this,["mousedown","touchstart"],this.sc)}z(Sd,W);
function Td(a){for(var b=0;b<a.cols;b++){a.M[b]||(a.M[b]=[]);for(var c=0,d=a.M[b].length;d<a.rows;d++){c++;var e;e=Math.floor(Math.random()*Kd.length);var f=new Jd;f.index=e;f.Xb.o("assets/ball_"+e+".png");e=f;e.t=d;e.L=b;e.b((b+0.5)*a.S,(-c+0.5)*a.S);e.c(a.S,a.S);a.M[b].push(e);a.Cb[b].appendChild(e)}}}
Sd.prototype.nc=function(a){var b,c,d=new Qd;this.fb=1;for(var e=0;e<this.cols;e++)for(var f=0;f<this.rows;f++)b=this.M[e][f],b.t=f,b.L=e,c=new B((e+0.5)*this.S,this.f().height-(f+0.5)*this.S),c==b.h||(!c||!b.h?0:c.x==b.h.x&&c.y==b.h.y)||Rd(d,b,new B(c.x-b.h.x,c.y-b.h.y));(a=d.play(a))?R(a,"stop",function(){this.fb=0;Ud(this)},p,this):this.fb=0;return a||p};
function Ud(a){var b=Vd(a);if(b.length){Wd(a.cc);var c=md(new Gd(new Nd(0),(new Md(0)).A(0.8)));Ja(b);for(var d=[],e=0;e<b.length;e++)Ea(c.Ea,b[e]),Fa(a.M[b[e].L],b[e]),Ea(d,b[e].index);Xd(a.cc,b.length*d.length);R(c,"stop",function(){Ba(b,function(a){a.g.removeChild(a)},this);this.fb=0;this.nc()},p,a);Td(a);a.fb=1;c.play()}else Yd(a)}
function Vd(a){var b,c,d,e,f=[];for(b=0;b<a.rows;b++){i=-1;e=[];for(c=0;c<a.cols;c++){d=a.M[c][b];d.index==i&&e.push(d);if(d.index!=i||c==a.cols-1)3<=e.length&&la(Ha,f,h,0).apply(n,e),e=[d];i=d.index}}for(c=0;c<a.cols;c++){i=-1;e=[];for(b=0;b<a.rows;b++){d=a.M[c][b];d.index==i&&e.push(d);if(d.index!=i||b==a.rows-1)3<=e.length&&la(Ha,f,h,0).apply(n,e),e=[d];i=d.index}}return f}
Sd.prototype.sc=function(a){if(!this.fb){var b=a.position,c=Math.floor(b.x/this.S),b=this.rows-Math.ceil(b.y/this.S);("mousedown"==a.type||"touchstart"==a.type)&&a.Ra(["mouseup","touchend"],Sd.prototype.sc);a=this.M[c][b];a!=this.$&&(a.select(),this.$?this.$.t==a.t&&1==Math.abs(this.$.L-a.L)||this.$.L==a.L&&1==Math.abs(this.$.t-a.t)?(Zd(this,this.$,a),delete this.$):(Ld(this.$),this.$=a):this.$=a)}};
function Zd(a,b,c,d){$d(a,b,c);var e=a.nc(m);!d&&!Vd(a).length?R(e,"stop",function(){Zd(this,b,c,m)},p,a):(Ld(b),Ld(c));delete a.$}function $d(a,b,c){var d=b.L,e=b.t;b.L=c.L;b.t=c.t;c.L=d;c.t=e;a.M[b.L][b.t]=b;a.M[c.L][c.t]=c}Sd.prototype.Nb=function(){this.hint&&cd(this.hint,new Fd((new Nd(1.3)).A(0.4),(new Nd(1)).A(0.4)))};
function Yd(a){for(var b,c=0,d=0;d<a.cols;d++)for(var e=a.rows-1;0<=e;e--)for(var f=a.M[d][e],g=0;2>g;g++){var k=d,l=e;0==g?k++:l--;k>=a.cols||0>l||(k=a.M[k][l],$d(a,f,k),l=Vd(a).length,l>c&&(c=l,b=f),$d(a,f,k))}a.hint=b;b=a.cc;a=a.hint;b.hint=a;u(a)?U.Nc(b.Nb,b,3500):ae(b)};E.Va={};K.Va={};function X(){W.call(this);be(this,5)}z(X,W);X.prototype.id="roundedrect";X.prototype.Ca=[Na(K.B,K.Va),Na(E.B,E.Va)];function be(a,b){a.we=p;a.uc=b;return a}K.Va.z=function(a){this.f();K.B.z.call(this,a);Fc(a,[this.uc*this.La,this.uc*this.La])};
E.Va.z=function(a){this.f();var b=H(this),c=this.uc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();E.B.z.call(this,a);this.Q&&(a.lineWidth*=2,a.stroke());a.restore()};function ce(a,b){dd.call(this);this.ab="lime-button";u(a)&&(this.R=a,this.appendChild(this.R),this.ob=-1,de(this,ee));u(b)&&fe(this,b);var c=this;R(this,["mousedown","touchstart","touchmove"],function(a){de(c,ge);a.Ra("mousemove",function(a){c.ya(a)?de(c,ge):de(c,ee)});a.Ra("touchmove",function(a){c.ya(a)||(de(c,ee),a.jb())});a.Ra(["mouseup","touchend"],function(a){c.ya(a)&&c.dispatchEvent({type:he});de(this,ee)})})}z(ce,dd);var ee=0,ge=1,he="click";
function fe(a,b){a.ha=b;a.appendChild(b);a.ob=-1;de(a,ee)}function de(a,b){if(b!=a.ob){a.ob==ee&&b==ge&&a.dispatchEvent({type:"down"});a.ob==ge&&b==ee&&a.dispatchEvent({type:"up"});var c=a.R;u(a.ha)&&(ge==b?c=a.ha:Vc(a.ha,m));c!=a.R&&Vc(a.R,m);Vc(c,p);a.ob=b}};E.Ua={};K.Ua={};function Y(a){W.call(this);this.oc=p;T(this,4);this.r(a);ie(this,je);Z(this,14);$(this,"#000");ke(this,"center");le(this,"400");a=[0,0,0,0];u(h)&&(a[1]=a[3]=h);u(h)&&(a[2]=h);u(h)&&(a[3]=h);this.H=a;T(this,8);this.Md=p;this.ed=1.15;this.$d(n);this.o(255,255,255,0)}z(Y,W);Y.prototype.id="label";var je="Arial";Y.prototype.Ca=[Na(K.B,K.Ua),Na(E.B,E.Ua)];
(function(){var a;Y.prototype.measureText=function(){u(a)||(a=document.createElement("canvas").getContext("2d"));var b=me(this)*this.xa;this.oc&&(b*=ra(this.fa).split("\n").length);a.font=this.xa+"px "+this.bc;var c=a.measureText(this.fa),c=O?c.width:c.width+1;Tb&&(c+=1);var d=this.Q?this.Q.Sb:0;return new C(this.H[1]+this.H[3]+c+2*d,this.H[0]+this.H[2]+b+2*d)}})();s=Y.prototype;s.f=function(){var a=S.prototype.f.call(this);return!a||!a.width&&!a.height?this.measureText():a};
s.r=function(a){this.fa=a+"";T(this,4);delete this.Bc;return this};function le(a,b){a.Zc=b;T(a,8);return a}function ie(a,b){a.bc=b;T(a,8);return a}function Z(a,b){a.xa=b;T(a,8);return a}function $(a,b){a.Yc=b;T(a,8);return a}function me(a){var b=Math.abs(a.V.y)+2*a.aa;return a.Md?(a.ed+b)/a.xa:a.ed+b/a.xa}function ke(a,b){a.Fc=b;T(a,8);return a}
s.$d=function(a,b,c,d){1==arguments.length&&a===n?(this.nb="#ccc",this.aa=0,this.Mb(0,0)):2==arguments.length?(this.nb=a,this.aa=b,this.Mb(new L(0,0))):3==arguments.length?(this.nb=a,this.aa=b,this.Mb(c)):(this.nb=a,this.aa=b,this.Mb(c,d));T(this,8)};s.Mb=function(a,b){this.V=2==arguments.length?new L(arguments[0],arguments[1]):a;T(this,8)};s.update=function(){this.p&4&&delete this.dd;S.prototype.update.apply(this,arguments)};
K.Ua.z=function(a){K.B.z.call(this,a);var b=a.style;this.p&4&&(this.oc?a.innerHTML=sa(this.fa).replace(/\n/g,"<br/>"):nc(a,this.fa));this.p&8&&(b.lineHeight=me(this),b.padding=Da(this.H,function(a){return a*Xc(this)},this).join("px ")+"px",b.color=this.Yc,b.fontFamily=this.bc,b.fontSize=this.xa*Xc(this)+"px",b.fontWeight=this.Zc,b.textAlign=this.Fc,b.textShadow=this.aa||this.V.x||this.V.y?this.nb+" "+this.V.x+"px "+this.V.y+"px "+this.aa+"px":"")};
E.Ua.z=function(a){E.B.z.call(this,a);var b=H(this),c=-b.left-this.H[3]+b.right-this.H[1]+Math.abs(this.V.x)+Math.abs(2*this.aa),d=0;if(!this.Bc){var d=[],e=this.fa.length,f=this.fa.match(N?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var k=0;k<f.length;k++){var l=f[k],l=this.fa.indexOf(l,g)+l.length;d.push(this.fa.substring(g,l));g=l}g!=e&&d.push(this.fa.substring(g,e));this.Bc=d;d=1}f=this.Q?this.Q.Sb:0;a.save();e=this.Fc;"left"==e?a.translate(b.left+this.H[3]+f,b.top+this.H[0]+f):"right"==e?a.translate(b.right-
this.H[1]-f,b.top+this.H[0]+f):"center"==e&&a.translate(0.5*(b.left+this.H[3]+b.right-this.H[1]),b.top+this.H[0]+f);b=me(this);a.fillStyle=this.Yc;a.font=this.Zc+" "+this.xa+"px/"+b+" "+this.bc;a.textAlign=e;a.textBaseline="top";if(this.aa||this.V.x||this.V.y)a.shadowColor=this.nb,a.shadowOffsetX=this.V.x,a.shadowOffsetY=this.V.y,a.shadowBlur=this.aa;if(d||c!=this.dd){d=[];e="";f=this.Bc;for(g=0;g<f.length;g++){k=0;if(this.oc&&(l=f[g].match(/\n/g)))k=l.length;""==e?e=f[g]:(l=a.measureText(ra(e+f[g])),
l.width>c?(d.push(ra(e)),k--,e=f[g]):e+=f[g]);for(l=0;l<k;l++)d.push(ra(e)),e=""}d.push(e);this.jc=d;this.dd=c}if(this.jc){c=b*this.xa;b=(u(this.aa)?Math.abs(this.aa):0)+(u(this.V)?Math.abs(this.V.y)/2:0);c=O?Math.floor(c):Math.round(c);for(d=0;d<this.jc.length;d++)a.fillText(this.jc[d],0,c*d+b-0.5)}a.restore()};function ne(){Va.call(this);this.Ya=[];oe(this)}z(ne,vd);s=ne.prototype;s.id="lineargradient";s.fc=function(a){(jb||M)&&Nc(a,E)};function oe(a){a.v=[0,0,0,1];return a}s.addColorStop=function(a,b){var c=Ga(arguments);c.shift();this.Ya.push([a,wd(c)]);return this};s.Ed=function(a){return O?"color-stop("+a[0]+", "+a[1].ea+")":a[1].ea+" "+100*a[0]*this.Xd+"%"};
s.mb=function(a,b){var c,d=H(b);c=d.right-d.left;var e=d.bottom-d.top;if(!O){var f=(this.v[2]-this.v[0])*c,g=(this.v[1]-this.v[3])*e,k=d.left+c*this.v[0],l=d.top+e*this.v[1],r=Math.atan2(g,f),q=-g/f;Infinity==q&&(q=Math.pow(10,10));d=0<r&&r<Math.PI/2?[d.right,d.top]:0<r?[d.left,d.top]:r>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/q*d[0]-l+q*k)/(q+1/q);q=q*d+l-k*q;d-=k;q-=l;this.Xd=Math.sqrt((f*f+g*g)/(d*d+q*q))}f=Da(this.Ya,this.Ed,this);c=O?"-webkit-gradient(linear,"+100*this.v[0]+
"% "+100*this.v[1]+"%,"+100*this.v[2]+"% "+100*this.v[3]+"%,"+f.join(",")+")":"linear-gradient("+100*this.v[0]+"% "+100*this.v[1]+"% "+Math.atan2((this.v[1]-this.v[3])*e,(this.v[2]-this.v[0])*c)+"rad,"+f.join(",")+")";N&&(c="-moz-"+c);a.style.background=c};s.lb=function(a,b){for(var c=this.v,d=H(b),e=d.right-d.left,f=d.bottom-d.top,c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]),d=0;d<this.Ya.length;d++)c.addColorStop(this.Ya[d][0],this.Ya[d][1].ea);a.fillStyle=c};function pe(a){ce.call(this,this.mc(a),this.mc(a));this.borderWidth=2;this.r(a);this.Na("#62be00")}z(pe,ce);s=pe.prototype;s.mc=function(a){var b=new X;b.Z=new X;b.label=Z($(ie(ke(new Y(a),"center"),'"Trebuchet MS"'),"#010101"),17);b.appendChild(b.Z);b.Z.appendChild(b.label);return b};
s.Na=function(a){a=wd(a);Ba([this.R,this.ha],function(b){var c;b==this.ha?(c=a.d(),c=Ad(c,1,-0.2)):c=a;b.o(c);var d=oe(new ne);d.addColorStop(0,zd(c.d(),0.13));d.addColorStop(0.5,zd(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.Z.o(d)},this);return this};s.r=function(a){this.R.label.r(a);this.ha.label.r(a);return this};
s.c=function(a,b){if(this.R){this.R.c.apply(this.R,arguments);var c=this.R.f();Ba([this.R,this.ha],function(a){a.c(c);var b=c.d();b.width-=this.borderWidth;b.height-=this.borderWidth;a.Z.c(b)},this)}return this};s.f=function(){return this.R.f()};function qe(a){pe.call(this,a);this.borderWidth=4;this.Na("#000")}z(qe,pe);qe.prototype.mc=function(){var a=be((new X).o("#fff"),10);a.Z=be(new X,10);a.label=Z($(ie(ke(new Y,"center"),'"Trebuchet MS"'),"#eef"),28);a.appendChild(a.Z);a.Z.appendChild(a.label);return a};qe.prototype.Na=function(a){a=wd(a);Ba([this.R,this.ha],function(b){var c=b==this.ha?zd(a.d(),0.1):a,d=zd(c.d(),0.3),e=oe(new ne);e.addColorStop(0,d);e.addColorStop(0.45,c);e.addColorStop(0.55,c);e.addColorStop(1,d);b.Z.o(e)},this);return this};function F(){S.call(this);this.P(0,0);this.ab="lime-scene";Pc(this)}z(F,S);F.prototype.yb=function(){return this};F.prototype.Fb=function(){return H(this)};function re(){F.call(this);var a=(new qe("Back")).b(360,870).c(300,90);R(a,"click",function(){se()});this.appendChild(a);a=be(new X,30).o("#fff").c(700,560).b(360,420);this.appendChild(a);var b=(new W).o("assets/helper1.jpg").b(-160,30).Oa(0.9);a.appendChild(b);b=(new W).o("assets/helper2.jpg").b(160,30).Oa(0.9);a.appendChild(b);b=ke(Z(new Y,18).c(280,100).b(-160,-170),"left");b.r("Switch two neighbour balls to match up three, four or five same colored balls in a row.  Doing so will clear them and give you points.");
a.appendChild(b);b=ke(Z(new Y,18).c(280,100).b(160,-170),"left");b.r("You get extra points for making more than one match at once.");a.appendChild(b);b=ke(Z(new Y,18).c(550,40).b(0,220),"center");b.r("When there are no possible moves on the screen, the game ends.");a.appendChild(b)}z(re,F);function te(a,b){V.call(this);this.s=2==arguments.length?new C(arguments[0],arguments[1]):a}z(te,V);te.prototype.scope="size";te.prototype.hb=function(a){a=a.f();return{sd:a,w:new L(this.s.width-a.width,this.s.height-a.height)}};te.prototype.update=function(a,b){if(0!=this.K){var c=kd(this,b);b.c(c.sd.width+c.w.x*a,c.sd.height+c.w.y*a)}};function ue(){X.call(this);var a=320,b=50;be(this.c(a,b),20).P(0,0.5);this.o((new ne).addColorStop(0,21,55,98,0.6).addColorStop(1,30,87,151,0.4));a-=16;b=be(new X,12).c(a,b-16).o("#F90").P(0,0.5).b(8,0);this.appendChild(b);b.o((new ne).addColorStop(0,"#afcdef").addColorStop(0.49,"#55a1fc").addColorStop(0.5,"#3690f4").addColorStop(1,"#8dc9ff"));this.width=a;this.Z=b}z(ue,X);function ve(a,b){a.se=b;cd(a.Z,(new te(a.width*b,a.Z.f().height)).A(0.4))};function we(a){F.call(this);this.Hb=0;var b=new dd;this.appendChild(b);this.T=(new Sd(a,a,this)).b(25,174);/Chrome\/9\.0\.597/.test(fb())&&Nc(this.T,E);a=be((new X).c(690,690).P(0,0).b(17,166),30);for(var c=0;c<this.T.cols;c++)for(var d=0;d<this.T.rows;d++){var e=(new W).o("assets/shadow.png").P(0,0).c(0.94*this.T.S,0.94*this.T.S).b(11+c*this.T.S,11+d*this.T.S);e.tc=m;a.appendChild(e)}b.appendChild(a);b.appendChild(this.T);a=(new W).c(670,2).o("#295081").b(360,148);b.appendChild(a);a=(new W).c(670,
2).o("#295081").b(360,885);b.appendChild(a);a=le(Z($(ie(new Y,"Trebuchet MS"),"#4f96ed"),24).b(30,22).r("Score:").P(0,0),700);b.appendChild(a);this.yc=le(Z($(new Y,"#fff"),92).r(0).b(30,40).P(0,0),700);b.appendChild(this.yc);this.Lc=(new qe("Menu")).c(140,70).b(100,945);R(this.Lc,"click",function(){se()});this.appendChild(this.Lc);this.sb=Zc((new qe("Hint")).c(140,70).b(640,945),0);R(this.sb,"click",function(){this.hint&&this.T.Nb()},p,this);this.appendChild(this.sb);this.ga=this.Eb=30;Hd==xe&&(this.ee=
ke(le(Z($(ie(new Y,"Trebuchet MS"),"#4f96ed"),24).b(680,22).r("Time left:").P(1,0),700).c(300,30),"right"),b.appendChild(this.ee),this.Qb=(new ue).b(356,90),b.appendChild(this.Qb),U.xc(this.Tc,this,1E3));U.xc(this.vd,this,100);ye(this)}z(we,F);we.prototype.Tc=function(){this.ga--;1>this.ga&&ae(this);ve(this.Qb,this.ga/this.Eb)};we.prototype.vd=function(){var a=parseInt(this.yc.fa,10);a<this.Hb&&this.yc.r(a+1)};function Wd(a){U.pb(a.Nb,a);cd(a.sb,new Md(0));delete a.hint}
we.prototype.Nb=function(){cd(this.sb,new Md(1))};function Xd(a,b){a.Hb+=b;a.ga+=b;a.ga>a.Eb&&(a.ga=a.Eb);a.Qb&&ve(a.Qb,a.ga/a.Eb)}
function ae(a){Mb(a.T,["mousedown","touchstart"],a.T.sc);U.pb(a.vd,a);U.pb(a.Tc,a);var b=be((new X).o(0,0,0,0.7).c(500,480).b(360,260).P(0.5,0),20);a.appendChild(b);var c=Z($((new Y).r(1>a.ga?"No more time!":"No more moves!"),"#ddd"),40).b(0,70);b.appendChild(c);c=$(Z((new Y).r("Your score:"),24),"#ccc").b(0,145);b.appendChild(c);c=le($(Z((new Y).r(a.Hb),150),"#fff").b(0,240),700);b.appendChild(c);c=(new qe).r("TRY AGAIN").c(200,90).b(-110,400);b.appendChild(c);R(c,he,function(){ze(this.T.cols)},
p,a);c=(new qe).r("MAIN MENU").c(200,90).b(110,400);b.appendChild(c);R(c,he,function(){se()})};function Ae(){F.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}z(Ae,F);function Be(a){this.$a=a;this.identifier=0}Be.prototype.Ra=function(a,b,c){a=v(a)?a:[a];for(var d=0;d<a.length;d++)this.$a.Ra(this,a[d],b);c&&this.event.stopPropagation()};Be.prototype.jb=function(a){var b=u(a),c=v(a)?a:[a];if(a=this.$a.pa[this.identifier]){var d=this;a=Ca(a,function(a){return!u(d.Da)||a[0]==d.Da&&(!b||0<=Aa(c,a[1]))?(Mb(a[0],a[1],a[2]),p):m});a.length?this.$a.pa[this.identifier]=a:delete this.$a.pa[this.identifier]}};Be.prototype.d=function(){var a=new Be(this.$a);Oa(a,this);return a};function Ce(a){this.ua=a;this.O={};this.pa={}}Ce.prototype.Jb=function(a,b){u(this.O[b])?0<=Aa(this.O[b],a)||(this.O[b].push(a),this.O[b].sort(Sc)):(this.O[b]=[a],R("touch"==b.substring(0,5)&&a!=this.ua?document:"key"==b.substring(0,3)?window:this.ua.a.parentNode,b,this,p,this))};Ce.prototype.jb=function(a,b){u(this.O[b])&&(Fa(this.O[b],a),this.O[b].length||(Mb(this.ua.a.parentNode,b,this,p,this),delete this.O[b]))};function bd(a,b){for(var c in a.O){var d=a.O[c];0<=Aa(d,b)&&d.sort(Sc)}}
Ce.prototype.Ra=function(a,b,c){var d=a.identifier;u(this.pa[d])||(this.pa[d]=[]);this.pa[d].push([a.Da,b,c]);R(a.Da,b,aa)};
Ce.prototype.handleEvent=function(a){if(u(this.O[a.type])){for(var b=this.O[a.type].slice(),c=p,d=0,e=0;!e;){var f=new Be(this);f.type=a.type;f.event=a;if("touch"==a.type.substring(0,5)){var g=a.wa.changedTouches[d];f.Ma=new B(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.wa.changedTouches.length&&(e=1)}else f.Ma=new B(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(u(this.pa[f.identifier])){for(var g=
this.pa[f.identifier],k=0;k<g.length;k++)if(g[k][1]==a.type||v(g[k][1])&&0<=Aa(g[k][1],a.type)){var l=g[k][0];f.Da=l;f.position=l.ja(f.Ma);g[k][2].call(l,f);c=m}if("touchend"==a.type||"touchcancel"==a.type||"mouseup"==a.type||"keyup"==a.type)delete f.Da,f.jb()}else for(k=0;k<b.length;k++)if(l=b[k],!((this.ua.k.length?this.ua.k[this.ua.k.length-1]:n)!=l.yb()&&l!=this.ua)&&!l.zb&&l.q)if(f.Da=l,l.ya(f)||"key"==a.type.substring(0,3))if(f.Da=l,l.dispatchEvent(f),c=m,f.event.oa)break}c&&a.preventDefault()}};function De(a){Va.call(this);this.Ta=a||window;this.Nd=R(this.Ta,"resize",this.Id,p,this);this.s=ec(this.Ta||window);if(O&&nb||jb&&this.Ta.self!=this.Ta.top)this.ie=window.setInterval(ka(this.Oc,this),Ee)}z(De,Rb);var Ee=500;s=De.prototype;s.Nd=n;s.Ta=n;s.s=n;s.ie=n;s.f=function(){return this.s?this.s.d():n};s.Id=function(){this.Oc()};s.Oc=function(){var a=ec(this.Ta||window);if(!(a==this.s||(!a||!this.s?0:a.width==this.s.width&&a.height==this.s.height)))this.s=a,this.dispatchEvent("resize")};function Fe(a,b){Va.call(this);this.m=1;this.Gb=a;this.cb=b;this.Dd=p}z(Fe,Rb);Fe.prototype.A=function(a){this.m=a;return this};Fe.prototype.start=function(){this.cb.b(new B(0,0));Vc(this.cb,p);this.finish()};Fe.prototype.finish=function(){this.dispatchEvent(new Xa("end"));this.Dd=m};function Ge(a,b,c){S.call(this);this.q=m;this.P(0,0);this.k=[];this.Rc=[];this.ab="lime-director";Pc(this);a.appendChild(this.a);O&&kb&&(this.Qc=document.createElement("div"),Yb(this.Qc,"lime-cover-below"),jc(this.Qc,this.a),this.Pc=document.createElement("div"),Yb(this.Pc,"lime-cover-above"),kc(this.Pc,this.a));"absolute"!=a.style.position&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){xc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(kb&&!t.navigator.be){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Bb()},100)}}var g;a=vc(a);this.c(new C(g=b||a.width||400,c||a.height*g/a.width||400));this.Vc&&lc(this.Gd);this.Vc=p;He(this);b=new De;R(b,"resize",this.Bb,p,this);
R(t,"orientationchange",this.Bb,p,this);U.wc(this.Qa,this);this.Ia=new Ce(this);R(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},p,this);R(this,["mouseup","touchend","mouseout","touchcancel"],function(){},p);this.Bb()}z(Ge,S);
function He(a){a.Ld=p;U.Ad(a);if(a.Ld){a.qc=new (a.re||Ae);var b=a.qc,c;b.c(a.f().d());u(h)&&a.k.length&&(c=a.k[a.k.length-1],c=new h(c,b),u(h)&&c.A(h),b.a.style.display="none");a.k.push(b);a.a.appendChild(b.a);b.g=a;$c(b);c&&c.start()}else a.qc&&(Ie(a),delete a.qc)}s=Ge.prototype;s.N=function(){return this};s.yb=function(){return n};s.Qa=function(a){this.Vc&&(this.$c++,this.qb+=a,100<this.qb&&(this.Fd=1E3*this.$c/this.qb,nc(this.Gd,this.Fd.toFixed(2)),this.qb=this.$c=0));qa()};
function Je(a){var b=Id,c=Ke;a.c(b.f().d());var c=c||Fe,d=n;b.k.length&&(d=b.k[b.k.length-1]);for(var e=[],f=b.k.length;0<=--f;)ad(b.k[f]),e.push(b.k[f].a),b.k[f].g=n;b.k.length=0;b.k.push(a);a.a.style.display="none";b.a.appendChild(a.a);a.g=b;$c(a);a=new c(d,a);Lb(a,"end",function(){for(var a=e.length;0<=--a;)lc(e[a]);e.length=0},p,b);u(h)&&a.A(h);a.start()}s.Fa=function(){this.p&=-65};
function Ie(a){var b,c=a.k.length?a.k[a.k.length-1]:n;if(c!==n){var d=function(){ad(c);c.g=n;lc(c.a);this.k.pop();c=n};u(h)&&1<a.k.length?(b=new h(c,a.k[a.k.length-2]),u(h)&&b.A(h),Lb(b,"end",d,p,a)):d.call(a);b&&b.start()}}s.ja=function(a){a=a.d();a.x-=this.vb.x+this.h.x;a.y-=this.vb.y+this.h.y;a.x/=this.u.x;a.y/=this.u.y;return a};s.gb=function(a){a=a.d();a.x*=this.u.x;a.y*=this.u.y;a.x+=this.vb.x+this.h.x;a.y+=this.vb.y+this.h.y;return a};
s.update=function(){S.prototype.update.call(this);for(var a=this.Rc.length;0<=--a;)this.Rc[a].update()};
s.Bb=function(){var a=vc(this.a.parentNode);this.a.parentNode==document.body&&(window.scrollTo(0,0),y(window.innerHeight)&&(a.height=window.innerHeight));var b;b=this.f().d();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);var c=b.width/this.f().width;this.Oa(c);a.width/a.height<b.width/b.height?this.b(0,(a.height-b.height)/2):this.b((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=bc(c),f=qc(c,"position"),g=N&&e.getBoxObjectFor&&!c.getBoundingClientRect&&"absolute"==
f&&(d=e.getBoxObjectFor(c))&&(0>d.screenX||0>d.screenY);b=new B(0,0);var k;d=e?bc(e):document;if(k=M)if(k=!(M&&9<=yb))k="CSS1Compat"!=$b(d).va.compatMode;k=k?d.body:d.documentElement;if(c!=k)if(c.getBoundingClientRect)d=rc(c),e=$b(e).va,c=!O&&"CSS1Compat"==e.compatMode?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new B(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(k),b.x=d.screenX-
c.screenX,b.y=d.screenY-c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(O&&"fixed"==qc(d,"position")){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(jb||O&&"absolute"==f)b.y-=e.body.offsetTop;for(d=c;(d=sc(d))&&d!=e.body&&d!=k;)if(b.x-=d.scrollLeft,!jb||"TR"!=d.tagName)b.y-=d.scrollTop}this.vb=b;kb&&this.a.parentNode==document.body&&(this.md&&(b=this.md,lc(b.ownerNode||b.owningElement||b)),this.md=
xc("html{height:"+(a.height+120)+"px;overflow:hidden;}"))};s.ya=function(a){a&&a.Ma&&(a.position=this.ja(a.Ma));return m};function Ke(a,b){Fe.call(this,a,b)}z(Ke,Fe);Ke.prototype.start=function(){Zc(this.cb,0);Vc(this.cb,p);var a=md((new Md(0)).A(this.m));R(a,"stop",function(){this.Gb&&Zc(this.Gb,1)},p,this);this.Gb&&cd(this.Gb,a);a=(new Md(1)).A(this.m);cd(this.cb,a);R(a,"stop",this.finish,p,this)};var xe=1;
function se(){var a=new F,b=(new dd).b(360,0);/Chrome\/9\.0\.597/.test(fb())&&Nc(b,E);var c=(new W).o("assets/main_title.png").b(0,290);c.tc=m;b.appendChild(c);var d=(new dd).b(0,430);b.appendChild(d);var e=md(new Od(-720,0)),f=Le("Play Classic").b(0,200);R(f,"click",function(){Hd=0;cd(d,e)});d.appendChild(f);f=Le("Play Timed").b(0,320);R(f,"click",function(){Hd=xe;cd(d,e)});d.appendChild(f);f=Le("Help").b(0,440);R(f,"click",function(){var a=new re;ye(a);Je(a)});d.appendChild(f);c=(new dd).b(720,0);
d.appendChild(c);f=Z($((new Y).r("Select board size:"),"#fff"),24).b(0,140);c.appendChild(f);f=Le("6x6").b(0,200);R(f,"click",function(){ze(6)});c.appendChild(f);f=Le("7x7").b(0,320);R(f,"click",function(){ze(7)});c.appendChild(f);f=Le("8x8").b(0,440);R(f,"click",function(){ze(8)});c.appendChild(f);a.appendChild(b);ye(a);Je(a)}function Le(a){return(new qe(a)).c(300,90)}function ze(a){a=new we(a);Je(a)}
function ye(a){var b=(new W).o("assets/lime.png"),c=Z($((new Y).r("Built with"),"#fff"),24).b(290,960),b=(new ce(b)).Oa(0.3).b(410,960);R(b,"click",function(){window.location.href="http://www.limejs.com/"});a.appendChild(c);a.appendChild(b)}
function Me(){var a=Id=new Ge(document.body,720,1004),b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=p;u(localStorage)&&(b=localStorage.getItem("_lime_visited"));/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&(!window.navigator.be&&!b&&a.a.parentNode==
document.body)&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),u(localStorage)&&localStorage.setItem("_lime_visited",m));se()}var Ne=["rb","start"],Oe=t;!(Ne[0]in Oe)&&Oe.execScript&&Oe.execScript("var "+Ne[0]);for(var Pe;Ne.length&&(Pe=Ne.shift());)!Ne.length&&u(Me)?Oe[Pe]=Me:Oe=Oe[Pe]?Oe[Pe]:Oe[Pe]={};
